---
title: "API reference"
description: "Complete API conventions: auth, request formats, errors, and core resources"
---

## Base URLs

HelpGenie supports both REST-style routes and direct Supabase function invocation.

```
Primary: https://api.helpgenie.ai/v1
Alternative: https://helpgenie.ai/api/v1
Direct Supabase: POST https://api.helpgenie.ai/v1
```

REST routes follow:

```
{BASE_URL}/{resource}[/{id}]
```

## Authentication

All auth methods use the `Authorization` header.

```
Authorization: Bearer <token>
```

### API key (recommended for external integrations)

```
Authorization: Bearer hg_live_...
```

- Prefix: `hg_live_`
- Rate limit: `60 requests/minute` per key
- Maximum `5` active keys per user

### Session JWT (browser/app context)

```
Authorization: Bearer <supabase_access_token>
```

### Service role key (server-to-server)

```
Authorization: Bearer <SUPABASE_SERVICE_ROLE_KEY>
x-user-id: <user-uuid>
Content-Type: application/json
```

## Request formats

### REST-style (recommended)

```
GET    /v1/{resource}         → action: "all"
GET    /v1/{resource}/list    → action: "list"
GET    /v1/{resource}/{id}    → action: "get"
POST   /v1/{resource}         → action: "create"
PATCH  /v1/{resource}/{id}    → action: "update"
DELETE /v1/{resource}/{id}    → action: "delete"
```

### Custom actions (POST body)

```json
POST /v1/{resource}
{
  "action": "custom-action",
  "id": "optional-id",
  "data": {}
}
```

### Direct invocation (POST body)

```json
POST https://api.helpgenie.ai/v1
{
  "resource": "genies",
  "action": "list",
  "id": null,
  "data": {}
}
```

<ParamField body="resource" type="string" required>
  API resource name. Example: `genies`, `knowledge-base`, `integrations`, `api-keys`.
</ParamField>

<ParamField body="action" type="string" required>
  Action for the selected resource (for example `list`, `get`, `create`, `update`, `delete`).
</ParamField>

<ParamField body="id" type="string">
  Optional resource identifier for single-record actions.
</ParamField>

<ParamField body="data" type="object">
  Action-specific parameters (filters, pagination, payload fields).
</ParamField>

## Response envelope

```json
{
  "success": true,
  "data": {
    // action-specific response data
  }
}
```

**Error (4xx / 5xx):**

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "Human-readable error message",
    "status": 400
  }
}
```

## Error codes

| Code | Status | Description |
|------|--------|-------------|
| `UNAUTHORIZED` | 401 | Missing or invalid Authorization header |
| `INVALID_TOKEN` | 401 | Token is invalid or expired |
| `FORBIDDEN` | 403 | User lacks permission for the resource |
| `NOT_FOUND` | 404 | Resource not found |
| `AGENT_NOT_FOUND` | 404 | Genie not found or access denied |
| `VALIDATION_ERROR` | 400 | Invalid request format or data |
| `INVALID_ACTION` | 400 | Action not supported for the resource |
| `RATE_LIMIT_EXCEEDED` | 429 | Too many requests |
| `INTERNAL_ERROR` | 500 | Server error |

## Access control

Roles determine access scope:

- **internal_admin** - Full cross-account access.
- **standard_user** - Access to their own business data.
- **consumer** - Limited read-only/interaction access.

Admin users can pass `adminMode: true` or a `userId` parameter to operate on resources owned by other users.

## Resource map

<CardGroup cols={2}>
  <Card title="Genies" icon="robot" href="/api-reference/genies">
    Create, update, list, and delete voice AI genies
  </Card>
  <Card title="Knowledge base" icon="book" href="/api-reference/knowledge-base">
    Manage documents and attach them to genies
  </Card>
  <Card title="Document folders" icon="folder" href="/api-reference/document-folders">
    Organize knowledge base documents into folders
  </Card>
  <Card title="Genie groups" icon="layer-group" href="/api-reference/genie-groups">
    Group and organize genies
  </Card>
  <Card title="API keys" icon="key-round" href="/api-reference/api-keys">
    Create, revoke, and delete developer API keys
  </Card>
  <Card title="Goals" icon="target" href="/api-reference/goals">
    Manage agent goals and outcomes
  </Card>
  <Card title="Capabilities" icon="sparkles" href="/api-reference/capabilities">
    Discover resources and actions at runtime
  </Card>
</CardGroup>
